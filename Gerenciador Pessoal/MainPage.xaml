<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="Gerenciador_Pessoal.MainPage"
             Title="">

    <ContentPage.Behaviors>
        <toolkit:StatusBarBehavior StatusBarColor="Black" StatusBarStyle="LightContent"/>
    </ContentPage.Behaviors>
    
    <ScrollView>
        <VerticalStackLayout
            Padding="30,0"
            Spacing="25">
            <Label Text="Saldo Atual" FontSize="22" HorizontalOptions="Center" Padding="0, 20, 0, 0"/>
            <Label x:Name="lblSaldo" Text="R$ 0,00" 
               FontSize="30" FontAttributes="Bold" 
               HorizontalOptions="Center" Margin="0,10"/>
           
            <Label
                Text="Últimas Transações:"
                FontSize="20"
                FontAttributes="Bold"
                HorizontalTextAlignment="Center"
                />

            <CollectionView x:Name="lstUltimas" HeightRequest="300">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="5"
                              RowDefinitions="Auto,1"
                              ColumnDefinitions="80,*,100"
                              ColumnSpacing="10">
                            
                            <!-- Data -->
                            <Label Text="{Binding Data, StringFormat='{0:dd/MM}'}"
                               FontSize="14"
                               Grid.Column="0"
                               VerticalOptions="Center"/>

                            <!-- Descrição -->
                            <Label Text="{Binding Descricao}" 
                               FontSize="16" 
                               Grid.Column="1"
                               VerticalOptions="Center"
                               Margin="10,0"/>

                            <!-- Valor -->
                            <Label Text="{Binding Valor, StringFormat='R$ {0:N2}'}" 
                               FontSize="16" 
                               FontAttributes="Bold"
                               TextColor="{Binding IsReceita, Converter={StaticResource ReceitaFundo}}"
                               Grid.Column="2"
                               VerticalOptions="Center"/>

                            <!-- Linha separadora -->
                            <BoxView Grid.Row="1" Grid.ColumnSpan="3"
                                     HeightRequest="1"
                                     Color="LightGray"
                                     VerticalOptions="End"/>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
